(()=>{"use strict";const t=class{constructor(t=0,s=0,i=100,h=100,e="#f00"){this.x=t,this.y=s,this.width=i,this.height=h,this.colour=e}move(t,s){this.x+=t,this.y+=s}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.colour,t.fill(),t.closePath()}},s=class extends t{constructor(t=0,s=0,i=10,h="hotpink"){super(t,s,0,0,h),this.radius=i,this.colours=["#F806CC","#A149FA","#F90716","#99FEFF","#49FF00","#FFF338"]}move(t,s){this.x+=t,this.y+=s}colourChange(){this.colour=this.colours[Math.floor(Math.random()*this.colours.length)]}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.colour,t.fill(),t.closePath()}},i=class extends t{constructor(t,s,i=75,h=10,e="hotpink"){super(t,s,i,h,e)}},h=class extends t{constructor(t,s,i,h=75,e=20){super(t,s,h,e,i),this.status=1}},e=document.getElementById("myCanvas"),l=e.getContext("2d");new class{constructor(t,e){this.canvas=t,this.ctx=e,this.brickRowCount=3,this.brickColumnCount=5,this.brickWidth=75,this.brickHeight=20,this.brickPadding=10,this.brickOffsetTop=30,this.brickOffsetLeft=30,this.brickColour="#0095DD",this.score=new class{constructor(t,s){this.x=t,this.y=s,this.score=0,this.font="16px Ariel",this.colour="hotpink"}render(t){t.font=this.font,t.fillStyle=this.colour,t.fillText(`Score: ${this.score}`,this.x,this.y)}addPoint(t=1){this.score+=t}resetScore(){this.score=0}}(8,20),this.lives=new class{constructor(t,s,i){this.x=t,this.y=s,this.startingLives=i,this.lives=i,this.font="16px Ariel",this.colour="hotpink"}render(t){t.font=this.font,t.fillStyle=this.colour,t.fillText(`Lives: ${this.lives}`,this.x,this.y)}loseLives(t=1){this.lives-=t}resetLives(){this.lives=this.startingLives}}(this.canvas.width-110,20,3),this.ball=new s(this.canvas.width/2,this.canvas.height-30),this.paddle=new i((this.canvas.width-75)/2,this.canvas.height-10),this.bricks=new class{constructor({columns:t,rows:s,width:i,height:h,padding:e,offsetTop:l,offsetLeft:o,colour:r}){this.columns=t,this.rows=s,this.bricks=[],this.width=i,this.height=h,this.padding=e,this.offsetTop=l,this.offsetLeft=o,this.colour=r,this.init()}init(){for(let t=0;t<this.columns;t+=1){this.bricks[t]=[];for(let s=0;s<this.rows;s+=1){const i=t*(this.width+this.padding)+this.offsetLeft,e=s*(this.height+this.padding)+this.offsetTop;this.bricks[t][s]=new h(i,e,this.colour,this.width,this.height)}}}render(t){for(let s=0;s<this.columns;s+=1)for(let i=0;i<this.rows;i+=1){const h=this.bricks[s][i];1===h.status&&h.render(t)}}}({columns:this.brickColumnCount,rows:this.brickRowCount,width:this.brickWidth,height:this.brickHeight,padding:this.brickPadding,offsetTop:this.brickOffsetTop,offsetLeft:this.brickOffsetLeft,colour:this.brickColour}),this.background=new class{constructor(t,s){this.width=t,this.height=s}render(t){const s=t.createLinearGradient(0,0,0,this.height);s.addColorStop(0,"#171e26"),s.addColorStop(1,"#3f586b"),t.fillStyle=s,t.fillRect(0,0,this.width,this.height)}}(this.canvas.width,this.canvas.height),this.rightPressed=!1,this.leftPressed=!1,this.setup()}setup(){this.resetBallAndPaddle(),document.addEventListener("keydown",(t=>{this.keyDownHandler(t)}),!1),document.addEventListener("keyup",(t=>{this.keyUpHandler(t)}),!1),document.addEventListener("mousemove",(t=>{this.mouseMoveHandler(t)}),!1)}resetBallAndPaddle(){this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height-30,this.ball.dx=2,this.ball.dy=-2,this.paddle.x=(this.canvas.width-this.paddle.width)/2}collisionDetection(){for(let t=0;t<this.bricks.columns;t+=1)for(let s=0;s<this.bricks.rows;s+=1){const i=this.bricks.bricks[t][s];1===i.status&&this.ball.x>i.x&&this.ball.x<i.x+i.width&&this.ball.y>i.y&&this.ball.y<i.y+this.bricks.height&&(this.ball.dy=-this.ball.dy,i.status=0,this.score.addPoint(),this.ball.colourChange(),this.score.score===this.bricks.rows*this.bricks.columns&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}movePaddle(){this.rightPressed&&this.paddle.x<this.canvas.width-this.paddle.width?this.paddle.move(7,0):this.leftPressed&&this.paddle.x>0&&this.paddle.move(-7,0)}collisionWallsDetection(){(this.ball.x+this.ball.dx>this.canvas.width-this.ball.radius||this.ball.x+this.ball.dx<this.ball.radius)&&(this.ball.dx=-this.ball.dx,this.ball.colourChange()),this.ball.y+this.ball.dy<this.ball.radius?this.ball.dy=-this.ball.dy:this.ball.y+this.ball.dy>this.canvas.height-this.ball.radius&&(this.ball.x>this.paddle.x&&this.ball.x<this.paddle.x+this.paddle.width?(this.ball.dy=-this.ball.dy,this.ball.colourChange()):(this.lives.loseLives(),this.lives.lives?this.resetBallAndPaddle():(alert("GAME OVER"),document.location.reload())))}mouseMoveHandler(t){const s=t.clientX-this.canvas.offsetLeft;s>0&&s<this.canvas.width&&(this.paddle.x=s-this.paddle.width/2)}keyDownHandler(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!0)}keyUpHandler(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.background.render(this.ctx),this.bricks.render(this.ctx),this.score.render(this.ctx),this.lives.render(this.ctx),this.ball.render(this.ctx),this.paddle.render(this.ctx,this.canvas),this.ball.move(this.ball.dx,this.ball.dy),this.movePaddle(),this.collisionWallsDetection(),this.collisionDetection(),requestAnimationFrame((()=>{this.draw()}))}}(e,l).draw()})();